plugins {
    id 'java-gradle-plugin'
    id 'maven-publish'
    id "com.gradle.plugin-publish" version "0.9.10"
}

repositories {
    mavenLocal()
    mavenCentral()
    jcenter()
}

dependencies {
    compile 'com.sun.xml.ws:jaxws-tools:2.2.10'

    implementation gradleApi()
}

group = "uk.co.boothen.gradle"
version = "0.1"

gradlePlugin {
    plugins {
        wsImportPlugin {
            id = "uk.co.boothen.gradle.wsimport"
            implementationClass = "uk.co.boothen.gradle.wsimport.WsImportPlugin"
        }
    }
}

pluginBundle {
    website = "https://github.com/boothen/gradle-wsimport"
    vcsUrl = "https://github.com/boothen/gradle-wsimport"
    description = "Gradle Plugin to wrap the Ant Task WSImport. Allowing easier configuration."

    plugins {
        wsImportPlugin {
            id = "uk.co.boothen.gradle.wsimport"
            displayName = "Yet another WsImport Gradle plugin"
        }
    }

    mavenCoordinates {
        groupId = project.group.toString()
        artifactId = project.name
    }
}

tasks.withType(JavaCompile) {
    sourceCompatibility = '1.8'
    targetCompatibility = '1.8'
    options.encoding = 'UTF-8'
}

task wrapper(type: Wrapper) {
    gradleVersion = '3.5.1'
}